{
  "stats": {
    "suites": 1,
    "tests": 12,
    "passes": 12,
    "pending": 0,
    "failures": 0,
    "start": "2022-10-05T20:32:36.439Z",
    "end": "2022-10-05T20:32:40.607Z",
    "duration": 4070,
    "testsRegistered": 12,
    "passPercent": 100,
    "pendingPercent": 0,
    "other": 0,
    "hasOther": false,
    "skipped": 0,
    "hasSkipped": false
  },
  "results": [
    {
      "uuid": "57dfa15b-30a2-494c-8c3c-0ac87f5342fd",
      "title": "",
      "fullFile": "cypress\\e2e\\DropBoxUploadDownloadTest.cy.js",
      "file": "cypress\\e2e\\DropBoxUploadDownloadTest.cy.js",
      "beforeHooks": [],
      "afterHooks": [],
      "tests": [],
      "suites": [
        {
          "uuid": "0219121e-2e14-4bb7-b35f-c46f31800c8c",
          "title": "Should test DropBox api with retrieving oauth2 token, uploading the file, checking it metadata and deleting it",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "Should successfully retrieve oauth2 authorization token from DropBox API and save it",
              "fullTitle": "Should test DropBox api with retrieving oauth2 token, uploading the file, checking it metadata and deleting it Should successfully retrieve oauth2 authorization token from DropBox API and save it",
              "timedOut": null,
              "duration": 343,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: Cypress.env('authTokenUrl'),\n  headers: {\n    'Content-Type': ContentTypeAuthHeader,\n    'Cookie': 'locale=en; t=MHEYc5dUJHUnxofca9PH9XEQ'\n  },\n  body: {\n    refresh_token: Cypress.env('DropBoxToken'),\n    grant_type: 'refresh_token',\n    client_id: Cypress.env('appKey'),\n    client_secret: Cypress.env('appSecret')\n  }\n};\ncy.request(options).as('token');\ncy.get('@token').then(response => {\n  expect(response.status).to.be.equal(200);\n  expect(response.body).to.include.key('access_token');\n  accessToken = CryptoJS.AES.encrypt(response.body.access_token, Cypress.env('secret'));\n});",
              "err": {},
              "uuid": "f696088b-0344-4c83-88b7-fb2cf68d9eb0",
              "parentUUID": "0219121e-2e14-4bb7-b35f-c46f31800c8c",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Should successfully check user authentication on DropBox",
              "fullTitle": "Should test DropBox api with retrieving oauth2 token, uploading the file, checking it metadata and deleting it Should successfully check user authentication on DropBox",
              "timedOut": null,
              "duration": 296,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('authEndpoint')}/check/user`,\n  headers: {\n    'Authorization': `Bearer ${CryptoJS.AES.decrypt(accessToken, Cypress.env('secret')).toString(CryptoJS.enc.Utf8)}`,\n    'Content-Type': ContentTypeHeader\n  },\n  body: authCheckBody\n};\ncy.request(options).as('userAuth');\ncy.get('@userAuth').then(response => {\n  expect(response.status).to.be.equal(200);\n  expect(response.body.result).to.be.equal(test);\n});",
              "err": {},
              "uuid": "d7d14ca6-c342-459c-851d-877b2e7ba3a6",
              "parentUUID": "0219121e-2e14-4bb7-b35f-c46f31800c8c",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Should successfully check app authentication on DropBox",
              "fullTitle": "Should test DropBox api with retrieving oauth2 token, uploading the file, checking it metadata and deleting it Should successfully check app authentication on DropBox",
              "timedOut": null,
              "duration": 159,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('authEndpoint')}/check/app`,\n  headers: {\n    'Authorization': Cypress.env('appAuth'),\n    'Content-Type': ContentTypeHeader\n  },\n  body: authCheckBody\n};\ncy.request(options).as('appAuth');\ncy.get('@appAuth').then(response => {\n  expect(response.status).to.be.equal(200);\n  expect(response.body.result).to.be.equal(test);\n});",
              "err": {},
              "uuid": "515223c5-439c-4a85-a25d-d85037a1e6e1",
              "parentUUID": "0219121e-2e14-4bb7-b35f-c46f31800c8c",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Should successfully upload text file to DropBox via API",
              "fullTitle": "Should test DropBox api with retrieving oauth2 token, uploading the file, checking it metadata and deleting it Should successfully upload text file to DropBox via API",
              "timedOut": null,
              "duration": 1095,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('filesEndpoint')}/files/upload`,\n  headers: {\n    'Dropbox-API-Arg': JSON.stringify(uploadDropBoxAPIArg),\n    'Content-Type': uploadContentType,\n    'Authorization': `Bearer ${CryptoJS.AES.decrypt(accessToken, Cypress.env('secret')).toString(CryptoJS.enc.Utf8)}`\n  },\n  body: \"Hello from Cypress!!!\"\n};\ncy.request(options).as('upload');\ncy.get('@upload').then(response => {\n  expect(response.status).to.be.equal(200);\n  expect(response.body).to.be.jsonSchema(uploadResponseSchema);\n  expect(response.body.name).to.equal(fileName);\n  expect(Object.keys(response.body).length).to.equal(uploadResponseLength);\n  metadata.forEach((key, i) => {\n    expect(Object.keys(response.body)[i]).to.equal(key);\n  });\n  metadataValues = Object.values(response.body);\n});",
              "err": {},
              "uuid": "864d45f7-e6fe-4f78-a011-467ba1983e86",
              "parentUUID": "0219121e-2e14-4bb7-b35f-c46f31800c8c",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Should successfully search for uploaded file and validate it's metadata",
              "fullTitle": "Should test DropBox api with retrieving oauth2 token, uploading the file, checking it metadata and deleting it Should successfully search for uploaded file and validate it's metadata",
              "timedOut": null,
              "duration": 228,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('authEndpoint')}/files/get_metadata`,\n  headers: {\n    'Content-Type': ContentTypeHeader,\n    'Authorization': `Bearer ${CryptoJS.AES.decrypt(accessToken, Cypress.env('secret')).toString(CryptoJS.enc.Utf8)}`\n  },\n  body: JSON.stringify({\n    path: path,\n    include_media_info: false,\n    include_deleted: false,\n    include_has_explicit_shared_members: false\n  })\n};\ncy.request(options).as('metadataCheck');\ncy.get('@metadataCheck').then(response => {\n  expect(response.status).to.be.equal(200);\n  expect(response.body).to.be.jsonSchema(getMetadataResponseSchema);\n  expect(Object.keys(response.body).length).to.equal(metadataResponseLength);\n  Object.values(response.body).slice(1).forEach((el, i) => {\n    expect(el).to.equal(metadataValues[i]);\n  });\n});",
              "err": {},
              "uuid": "3b5f6844-256c-4aeb-a488-4599f77bf9fa",
              "parentUUID": "0219121e-2e14-4bb7-b35f-c46f31800c8c",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Should successfully delete uploaded file",
              "fullTitle": "Should test DropBox api with retrieving oauth2 token, uploading the file, checking it metadata and deleting it Should successfully delete uploaded file",
              "timedOut": null,
              "duration": 816,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('authEndpoint')}/files/delete_v2`,\n  headers: {\n    'Content-Type': ContentTypeHeader,\n    'Authorization': `Bearer ${CryptoJS.AES.decrypt(accessToken, Cypress.env('secret')).toString(CryptoJS.enc.Utf8)}`\n  },\n  body: JSON.stringify({\n    path: path\n  }),\n  failOnStatusCode: false\n};\ncy.request(options).as('delete');\ncy.get('@delete').then(response => {\n  expect(response.status).to.be.equal(200);\n  expect(Object.keys(response.body.metadata).length).to.equal(metadataResponseLength);\n  Object.values(response.body).slice(1).forEach((el, i) => {\n    expect(el).to.equal(metadataValues[i]);\n  });\n});",
              "err": {},
              "uuid": "5685943f-c68f-48f1-8b85-bcb194b60d21",
              "parentUUID": "0219121e-2e14-4bb7-b35f-c46f31800c8c",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "f696088b-0344-4c83-88b7-fb2cf68d9eb0",
            "d7d14ca6-c342-459c-851d-877b2e7ba3a6",
            "515223c5-439c-4a85-a25d-d85037a1e6e1",
            "864d45f7-e6fe-4f78-a011-467ba1983e86",
            "3b5f6844-256c-4aeb-a488-4599f77bf9fa",
            "5685943f-c68f-48f1-8b85-bcb194b60d21"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 2937,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        },
        {
          "uuid": "332c8eb1-2b36-4b45-bb09-fbf342bbb854",
          "title": "Should perform DropBox API negative tests with wrong endpoints, wrong body values and try to delete already deleted file",
          "fullFile": "",
          "file": "",
          "beforeHooks": [],
          "afterHooks": [],
          "tests": [
            {
              "title": "Should check impossibility to upload file to DropBox via API with wrong endpoint",
              "fullTitle": "Should perform DropBox API negative tests with wrong endpoints, wrong body values and try to delete already deleted file Should check impossibility to upload file to DropBox via API with wrong endpoint",
              "timedOut": null,
              "duration": 193,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('filesEndpoint')}/files/upload/1`,\n  headers: {\n    'Dropbox-API-Arg': JSON.stringify(uploadDropBoxAPIArg),\n    'Content-Type': uploadContentType,\n    'Authorization': `Bearer ${CryptoJS.AES.decrypt(accessToken, Cypress.env('secret')).toString(CryptoJS.enc.Utf8)}`\n  },\n  body: \"Hello from Cypress!!!\",\n  failOnStatusCode: false\n};\ncy.request(options).as('upload');\ncy.get('@upload').then(response => {\n  expect(response.status).to.be.equal(404);\n});",
              "err": {},
              "uuid": "c93f9e53-0c05-4eeb-89ce-7f9ac237d3f3",
              "parentUUID": "332c8eb1-2b36-4b45-bb09-fbf342bbb854",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Should check impossibility to check uploaded file's metadata with wrong endpoint",
              "fullTitle": "Should perform DropBox API negative tests with wrong endpoints, wrong body values and try to delete already deleted file Should check impossibility to check uploaded file's metadata with wrong endpoint",
              "timedOut": null,
              "duration": 144,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('authEndpoint')}/files/get_metadat`,\n  headers: {\n    'Content-Type': ContentTypeHeader,\n    'Authorization': `Bearer ${CryptoJS.AES.decrypt(accessToken, Cypress.env('secret')).toString(CryptoJS.enc.Utf8)}`\n  },\n  body: JSON.stringify({\n    path: path,\n    include_media_info: false,\n    include_deleted: false,\n    include_has_explicit_shared_members: false\n  }),\n  failOnStatusCode: false\n};\ncy.request(options).as('metadataCheck');\ncy.get('@metadataCheck').then(response => {\n  expect(response.status).to.be.equal(400);\n});",
              "err": {},
              "uuid": "d553f9f5-f517-4da9-b7c9-e8f8388c8c02",
              "parentUUID": "332c8eb1-2b36-4b45-bb09-fbf342bbb854",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Should check impossibility to delete uploaded file with wrong endpoint",
              "fullTitle": "Should perform DropBox API negative tests with wrong endpoints, wrong body values and try to delete already deleted file Should check impossibility to delete uploaded file with wrong endpoint",
              "timedOut": null,
              "duration": 151,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('authEndpoint')}/files/delete_v1`,\n  headers: {\n    'Content-Type': ContentTypeHeader,\n    'Authorization': `Bearer ${CryptoJS.AES.decrypt(accessToken, Cypress.env('secret')).toString(CryptoJS.enc.Utf8)}`\n  },\n  body: JSON.stringify({\n    path: '/text.txt'\n  }),\n  failOnStatusCode: false\n};\ncy.request(options).as('delete');\ncy.get('@delete').then(response => {\n  expect(response.status).to.be.equal(400);\n});",
              "err": {},
              "uuid": "9b6c913b-ea62-467f-b7ce-b08dce420107",
              "parentUUID": "332c8eb1-2b36-4b45-bb09-fbf342bbb854",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Should check impossibility to check uploaded file's metadata with wrong body value",
              "fullTitle": "Should perform DropBox API negative tests with wrong endpoints, wrong body values and try to delete already deleted file Should check impossibility to check uploaded file's metadata with wrong body value",
              "timedOut": null,
              "duration": 217,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('authEndpoint')}/files/get_metadata`,\n  headers: {\n    'Content-Type': ContentTypeHeader,\n    'Authorization': `Bearer ${CryptoJS.AES.decrypt(accessToken, Cypress.env('secret')).toString(CryptoJS.enc.Utf8)}`\n  },\n  body: JSON.stringify({\n    path: wrongPath,\n    include_media_info: false,\n    include_deleted: false,\n    include_has_explicit_shared_members: false\n  }),\n  failOnStatusCode: false\n};\ncy.request(options).as('metadataCheck');\ncy.get('@metadataCheck').then(response => {\n  expect(response.status).to.be.equal(409);\n  expect(response.body).to.have.keys(errorResponse);\n});",
              "err": {},
              "uuid": "75af303e-8340-4bec-b518-642ea9c99e64",
              "parentUUID": "332c8eb1-2b36-4b45-bb09-fbf342bbb854",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Should check impossibility to delete uploaded file with wrong body value",
              "fullTitle": "Should perform DropBox API negative tests with wrong endpoints, wrong body values and try to delete already deleted file Should check impossibility to delete uploaded file with wrong body value",
              "timedOut": null,
              "duration": 198,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('authEndpoint')}/files/delete_v2`,\n  headers: {\n    'Content-Type': ContentTypeHeader,\n    'Authorization': `Bearer ${CryptoJS.AES.decrypt(accessToken, Cypress.env('secret')).toString(CryptoJS.enc.Utf8)}`\n  },\n  body: JSON.stringify({\n    path: wrongPath\n  }),\n  failOnStatusCode: false\n};\ncy.request(options).as('delete');\ncy.get('@delete').then(response => {\n  expect(response.status).to.be.equal(409);\n  expect(response.body).to.have.keys(errorResponse);\n});",
              "err": {},
              "uuid": "07f16404-6c67-48ef-8260-71df3f318e05",
              "parentUUID": "332c8eb1-2b36-4b45-bb09-fbf342bbb854",
              "isHook": false,
              "skipped": false
            },
            {
              "title": "Should repeat delete uploaded file and check error code is 409",
              "fullTitle": "Should perform DropBox API negative tests with wrong endpoints, wrong body values and try to delete already deleted file Should repeat delete uploaded file and check error code is 409",
              "timedOut": null,
              "duration": 230,
              "state": "passed",
              "speed": "fast",
              "pass": true,
              "fail": false,
              "pending": false,
              "context": null,
              "code": "var options = {\n  method: 'POST',\n  url: `${Cypress.env('authEndpoint')}/files/delete_v2`,\n  headers: {\n    'Content-Type': ContentTypeHeader,\n    'Authorization': `Bearer ${CryptoJS.AES.decrypt(accessToken, Cypress.env('secret')).toString(CryptoJS.enc.Utf8)}`\n  },\n  body: JSON.stringify({\n    path: path\n  }),\n  failOnStatusCode: false\n};\ncy.request(options).as('delete');\ncy.get('@delete').then(response => {\n  expect(response.status).to.be.equal(409);\n  expect(response.body).to.have.keys(errorResponse);\n});",
              "err": {},
              "uuid": "3ddbf2f4-ce00-4e61-a4dd-f8e3185e0d1e",
              "parentUUID": "332c8eb1-2b36-4b45-bb09-fbf342bbb854",
              "isHook": false,
              "skipped": false
            }
          ],
          "suites": [],
          "passes": [
            "c93f9e53-0c05-4eeb-89ce-7f9ac237d3f3",
            "d553f9f5-f517-4da9-b7c9-e8f8388c8c02",
            "9b6c913b-ea62-467f-b7ce-b08dce420107",
            "75af303e-8340-4bec-b518-642ea9c99e64",
            "07f16404-6c67-48ef-8260-71df3f318e05",
            "3ddbf2f4-ce00-4e61-a4dd-f8e3185e0d1e"
          ],
          "failures": [],
          "pending": [],
          "skipped": [],
          "duration": 1133,
          "root": false,
          "rootEmpty": false,
          "_timeout": 2000
        }
      ],
      "passes": [],
      "failures": [],
      "pending": [],
      "skipped": [],
      "duration": 0,
      "root": true,
      "rootEmpty": true,
      "_timeout": 2000
    }
  ],
  "meta": {
    "mocha": {
      "version": "7.0.1"
    },
    "mochawesome": {
      "options": {
        "quiet": false,
        "reportFilename": "mochawesome",
        "saveHtml": false,
        "saveJson": true,
        "consoleReporter": "spec",
        "useInlineDiffs": false,
        "code": true
      },
      "version": "7.1.3"
    },
    "marge": {
      "options": {
        "reportDir": "cypress/results",
        "overwrite": false,
        "html": false,
        "json": true
      },
      "version": "6.2.0"
    }
  }
}